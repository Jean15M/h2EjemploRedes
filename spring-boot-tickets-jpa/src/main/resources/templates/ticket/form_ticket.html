<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout/layout :: head">
<body>
	<header th:replace="layout/layout :: header"></header>

	<div class="container py-4">
		<div class="card bg-light">

			<div class="card-header" th:text="${titulo}"></div>
			<div class="card-body">
				
				<form th:action="@{/form_ticket}" th:object="${ticket}" method="post" enctype="multipart/form-data">
					<table class="table table-bordered">
						<tr>
							<td>Usuario</td>
							<td><select th:field="*{id_usuario}" class="form-select">
									<option value="" selected disabled>Seleccione una opción</option>
                                    <option th:each="usuario : ${usuarios}" 
                                            th:value="${usuario.id_usuario}" 
                                            th:text="${usuario.nombre +' '+usuario.apellido}"></option>
                                </select></td>
						</tr>

						<tr>
							<td>Departamento</td>
							<td><select th:field="*{departamento}"  class="form-select">
									 <option value="" disabled selected>Seleccione una opción</option>
                                    <option value="Software" th:text="Software"></option>
                                    <option value="Hardware" th:text="Hardware"></option>
                                </select></td>
						</tr>

						<tr>
							<td>Localidad</td>
							<td><select th:field="*{localidad}"  class="form-select">
									<option value="" disabled selected>Seleccione una opción</option>
                                    <option value="Gualaceo" th:text="Gualaceo"></option>
                                    <option value="Cuenca" th:text="Cuenca"></option>
                                    <option value="Azogues" th:text="Azogues"></option>
                                    <option value="Paute" th:text="Paute"></option>
                                    <option value="Cañar" th:text="Cañar"></option>
                                </select></td>
						</tr>
						
						<tr>
							<td colspan="2" style="text-align: center; font-weight: bold;" >Detalles del Ticket</td>

						</tr>
						<tr>
							<td>Asunto</td>
							<td><input type="text" class="form-control" th:field="*{asunto}" required="required" placeholder="Ingrese un asunto..." /></td>
						</tr>
						
						<tr>
							<td colspan="2"><textarea style="border: groove;" class="form-control" th:field="*{detalle_ticket}" required="required" placeholder="Describa su problema..." /></textarea></td>
							
						</tr>
						
						<tr>
							<td><label for="fileInput">Seleccione una imagen</label></td>
							<td><input type="file" id="fileInput" name="file" class="form-control" required="required" /></td>
						
						</tr>
						

						<tr>
							<td colspan="2"><input type="submit" value="Guardar Ticket"
								class="btn btn-primary" /></td>
						</tr>

					</table>

					<input type="hidden" th:field="*{id_ticket}" />
					<input type="hidden" th:field="*{estado}" value="Pendiente" />
				</form>
			</div>
		</div>
		<footer th:replace="layout/layout :: footer"></footer>
	</div>

</body>
</html>